// â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
const {
  GroupSettingChange,
  MessageType,
  Mimetype,
} = require(`@adiwajshing/baileys`);
const _ğ”ğ”ğ”Ÿ_ = require(`../../ÊÉ¨ÊÊŠÓ„É¨ğŸ›°ï¸Ö†É›Ê€Ê‹É›Ê€/_ğ”ğ”ğ”Ÿ_`);
const êœ°á´œá´„á´‹ = require(`../../ÊÉ¨ÊÊŠÓ„É¨ğŸ›°ï¸Ö†É›Ê€Ê‹É›Ê€/oShit`);
var á´‹á´‡Éªá´‡x = new RegExp(_ğ”ğ”ğ”Ÿ_.FOXTROT, `g`);
var á´‹á´‡Éª = /\/\^\[(.*)+\]\/\g/g.exec(á´‹á´‡Éªá´‡x)[1];
const Downloader = require(`nodejs-file-downloader`);
const fs = require(`fs`);
const vers = require(`../../package.json`);
// â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
module.exports = {
  name: `unmute`,
  description: `Unmute non-admin members of a group`,
  ğ“œğ“®ğ“®6ÊÖ…Ê€É›: `${á´‹á´‡Éª}unmute`,
  async handle(Ó„Ê€ÇŸÓ„É¨Õ¼Ê, chat, ğ“œğ–ğ–Ÿğ–šÓ„ğ–, arg, êœ±Éªá´›Ê€á´€á´˜) {
    try {
      // â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
      var êœ±á´‡É´á´…á´‡Ê€Éªá´… = ğ“œğ–ğ–Ÿğ–šÓ„ğ–.sender;
      var êœ±á´‡É´á´…á´‡Ê€eceived = êœ±á´‡É´á´…á´‡Ê€Éªá´….substring(0, êœ±á´‡É´á´…á´‡Ê€Éªá´….length - 15);
      const defaultnm = ğ“œğ–ğ–Ÿğ–šÓ„ğ–.commandName;
      const FinalName = defaultnm.charAt(0).toUpperCase() + defaultnm.slice(1);
      console.log(
        "ğŸçˆªğ–ğ–Ÿğ–šÓ„ğ–â„¢ á´ á´‡Ê€Éªêœ°Éªá´‡á´… êœ°ÉªÊŸá´‡ > " + FinalName.toUpperCase() + "âœ”ï¸"
      );
      // â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
      if (ğ“œğ–ğ–Ÿğ–šÓ„ğ–.isGroup && !ğ“œğ–ğ–Ÿğ–šÓ„ğ–.isSenderGroupAdmin) {
        let content = fs.readFileSync(_ğ”ğ”ğ”Ÿ_.MINAN);
        const media = await Ó„Ê€ÇŸÓ„É¨Õ¼Ê.prepareMessage(
          ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
          content,
          MessageType.image,
          {
            mimetype: Mimetype.png,
          }
        );
        const buttons = [
          {
            buttonId: `${á´‹á´‡Éª}help`,
            buttonText: { displayText: `${á´‹á´‡Éª}help` },
            type: 1,
          },
        ];
        const buttonMessage = {
          contentText: `@${êœ±á´‡É´á´…á´‡Ê€eceived}, *Êá´á´œ á´…á´É´'á´› êœ±á´‡á´‡á´ á´›á´ Ê™á´‡ á´€á´…á´ÉªÉ´..*`,
          footerText: `*ğŸçˆªğ–ğ–Ÿğ–šÓ„ğ–â„¢ ${vers.vers}*`,
          buttons: buttons,
          headerType: 4,
          imageMessage: media.message.imageMessage,
        };
        return await Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
          ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
          buttonMessage,
          MessageType.buttonsMessage,
          {
            quoted: chat,
            contextInfo: { mentionedJid: [êœ±á´‡É´á´…á´‡Ê€Éªá´…] },
          }
        );
      }
      // â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
      if (ğ“œğ–ğ–Ÿğ–šÓ„ğ–.isGroup && !ğ“œğ–ğ–Ÿğ–šÓ„ğ–.isBotGroupAdmin) {
        return await Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
          ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
          {
            url: _ğ”ğ”ğ”Ÿ_.ERROR,
          },
          MessageType.image,
          {
            quoted: chat,
            contextInfo: {
              mentionedJid: [êœ±á´‡É´á´…á´‡Ê€Éªá´…],
            },
            mimetype: Mimetype.png,
            caption: `
âš ï¸ğ—˜ğ—¿ğ—¿ğ—¼ğ—¿: @${êœ±á´‡É´á´…á´‡Ê€eceived}, *Êá´á´œ need á´›á´ á´á´€á´‹á´‡ á´á´‡ á´€á´…á´ÉªÉ´ êœ°ÉªÊ€êœ±á´›*`,
          }
        );
      }
      // â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
      if (!ğ“œğ–ğ–Ÿğ–šÓ„ğ–.isGroup) {
        Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
          ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
          `*${á´‹á´‡Éª}unmute*  command is only applicable for a group chat.`,
          MessageType.text,
          { quoted: chat }
        );

        return;
      }
      Ó„Ê€ÇŸÓ„É¨Õ¼Ê.groupSettingChange(
        ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
        GroupSettingChange.messageSend,
        false
      );

      Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
        ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
        `Chat permissions changed to  *all group members*${á´‹á´‡Éª}`,
        MessageType.text,
        { quoted: chat }
      );
    } catch (â„“Î±Ğ²Ñ”ÑÑÏƒÑ) {
      await êœ°á´œá´„á´‹.catch(â„“Î±Ğ²Ñ”ÑÑÏƒÑ, Ó„Ê€ÇŸÓ„É¨Õ¼Ê, ğ“œğ–ğ–Ÿğ–šÓ„ğ–);
      console.log(
        "â¬¡==========================â¬¡    ğŸ " +
          â„“Î±Ğ²Ñ”ÑÑÏƒÑ +
          "ğŸ    â¬¡==========================â¬¡"
      );
    }
  },
};
// â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
