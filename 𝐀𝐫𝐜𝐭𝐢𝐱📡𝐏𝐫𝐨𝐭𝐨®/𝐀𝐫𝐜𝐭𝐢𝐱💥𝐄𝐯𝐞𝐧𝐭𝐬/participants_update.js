"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
`|â¬¡â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•|â â’¸ğ€ğ«ğœğ­ğ¢ğ± â˜Š á´˜á´á´¡á´‡Ê€á´‡á´… Ê™Ê á´‹Ê€á´€á´‹ÉªÉ´á´¢ÊŸá´€Ê™â„¢ â|â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â¬¡|`;
/*
(ğœ)ğ€ğ«ğœğ­ğ¢ğ± ğ¢ğ¬ ğš ğ–ğ¡ğšğ­ğ¬ğšğ©ğ© ğŒğ®ğ¥ğ­ğ¢ğğ®ğ«ğ©ğ¨ğ¬ğ-ğ”ğ¬ğğ«ğ›ğ¨ğ­ ğ°ğ¢ğ­ğ¡ ğŒğ¨ğğğ«ğšğ­ğ¢ğ¨ğ§,ğ€ğ®ğ­ğ¨ğ¦ğšğ­ğ¢ğ¨ğ§ ğšğ§ğ ğŸğŸğŸ+ ğ¦ğ¨ğ«ğ ğœğ¨ğ¦ğ¦ğšğ§ğğ¬!
*/
`|â¬¡â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•|â â’¸ğ€ğ«ğœğ­ğ¢ğ± â˜Š á´˜á´á´¡á´‡Ê€á´‡á´… Ê™Ê á´‹Ê€á´€á´‹ÉªÉ´á´¢ÊŸá´€Ê™â„¢ â|â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â¬¡|`;
const UserPrivate = require(`../ğ€ğ«ğœğ­ğ¢ğ±âœˆï¸ğ‚ğ¨ğ§ğ§ğğœğ­/ğŸƒmongo/private`);
const Welcome = require(`../ğ€ğ«ğœğ­ğ¢ğ±âœˆï¸ğ‚ğ¨ğ§ğ§ğğœğ­/ğŸƒmongo/setwelcome`);
const LinkList = require(`../ğ€ğ«ğœğ­ğ¢ğ±âœˆï¸ğ‚ğ¨ğ§ğ§ğğœğ­/ğŸƒmongo/antilink`);
const DebugList = require(`../ğ€ğ«ğœğ­ğ¢ğ±âœˆï¸ğ‚ğ¨ğ§ğ§ğğœğ­/ğŸƒmongo/debug`);
const Ranker = require(`../ğ€ğ«ğœğ­ğ¢ğ±âœˆï¸ğ‚ğ¨ğ§ğ§ğğœğ­/ğŸƒmongo/autorank`);
const message_type_1 = require("../\uD835\uDC00\uD835\uDC2B\uD835\uDC1C\uD835\uDC2D\uD835\uDC22\uD835\uDC31\u269C\uFE0F\uD835\uDC0A\uD835\uDC2B\uD835\uDC32\uD835\uDC28\uD835\uDC13\uD835\uDC1E\uD835\uDC24/message-type");
const BanPerson = require(`../ğ€ğ«ğœğ­ğ¢ğ±âœˆï¸ğ‚ğ¨ğ§ğ§ğğœğ­/ğŸƒmongo/ban`);
const NsfwList = require(`../ğ€ğ«ğœğ­ğ¢ğ±âœˆï¸ğ‚ğ¨ğ§ğ§ğğœğ­/ğŸƒmongo/nsfw`);
const BanGroup = require(`../ğ€ğ«ğœğ­ğ¢ğ±âœˆï¸ğ‚ğ¨ğ§ğ§ğğœğ­/ğŸƒmongo/ban`);
const Bagde = require(`../ğ€ğ«ğœğ­ğ¢ğ±âœˆï¸ğ‚ğ¨ğ§ğ§ğğœğ­/ğŸƒmongo/badge`);
const Halt = require(`../ğ€ğ«ğœğ­ğ¢ğ±âœˆï¸ğ‚ğ¨ğ§ğ§ğğœğ­/ğŸƒmongo/halt`);
const Downloader = require(`nodejs-file-downloader`);
const VOID = require(`../ğ€ğ«ğœğ­ğ¢ğ±âšœï¸ğŠğ«ğ²ğ¨ğ“ğğ¤/void`);
const TUF_1 = __importDefault(require("../\uD835\uDC00\uD835\uDC2B\uD835\uDC1C\uD835\uDC2D\uD835\uDC22\uD835\uDC31\u269C\uFE0F\uD835\uDC0A\uD835\uDC2B\uD835\uDC32\uD835\uDC28\uD835\uDC13\uD835\uDC1E\uD835\uDC24/TUF"));
const ______1 = __importDefault(require("../\uD835\uDC00\uD835\uDC2B\uD835\uDC1C\uD835\uDC2D\uD835\uDC22\uD835\uDC31\uD83C\uDC04\uD835\uDC15\uD835\uDC1E\uD835\uDC27\uD835\uDC2D/\u029F\u1D00\u028F\u1D0F\u1D1C\u1D1B"));
/*
â¦“â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•| á´˜á´á´¡á´‡Ê€á´‡á´… Ê™Ê á´‹Ê€á´€á´‹ÉªÉ´á´¢ÊŸá´€Ê™â„¢ |â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â¦”
ã€Œ   ğ€ğ«ğœğ­ğ¢ğ± ğ€ğ©ğ¢Â®   ã€                                                                            ã€Œ   ğ€ğ«ğœğ­ğ¢ğ± ğ€ğ©ğ¢Â®   ã€
â¦“â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•| á´˜á´á´¡á´‡Ê€á´‡á´… Ê™Ê á´‹Ê€á´€á´‹ÉªÉ´á´¢ÊŸá´€Ê™â„¢ |â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â¦”
*/
const participants_update = (update, Ó„ğ–—ğ–Ó„ğ–“ğ–Ÿ) => __awaiter(void 0, void 0, void 0, function* () {
    let client = new TUF_1.default(Ó„ğ–—ğ–Ó„ğ–“ğ–Ÿ);
    let ğğ©ğ¢ğœ;
    for (let i of update.participants) {
        try {
            ğğ©ğ¢ğœ = yield Ó„ğ–—ğ–Ó„ğ–“ğ–Ÿ.profilePictureUrl(i, "image");
        }
        catch (_a) {
            ğğ©ğ¢ğœ = "./ğ€ğ«ğœğ­ğ¢ğ±ğŸ‘œğğšğ /AÊ€ÆˆÈ¶É¨Ó¼_Gold.png";
        }
    }
    const ALL_PARTICIPANTS = update.participants[0];
    /*
    â¦“â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•| á´˜á´á´¡á´‡Ê€á´‡á´… Ê™Ê á´‹Ê€á´€á´‹ÉªÉ´á´¢ÊŸá´€Ê™â„¢ |â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â¦”
    ã€Œ   ğ€ğ«ğœğ­ğ¢ğ± ğ€ğ©ğ¢Â®   ã€                                                                            ã€Œ   ğ€ğ«ğœğ­ğ¢ğ± ğ€ğ©ğ¢Â®   ã€
    â¦“â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•| á´˜á´á´¡á´‡Ê€á´‡á´… Ê™Ê á´‹Ê€á´€á´‹ÉªÉ´á´¢ÊŸá´€Ê™â„¢ |â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â¦”
    */
    if (update.action == "add") {
        if (ALL_PARTICIPANTS.includes(Ó„ğ–—ğ–Ó„ğ–“ğ–Ÿ.user.id)) {
            yield client.sendMessage(update.id, {
                timestamp: Date(),
                image: { url: "./ğ€ğ«ğœğ­ğ¢ğ±ğŸ‘œğğšğ /AÊ€ÆˆÈ¶É¨Ó¼_Gold.png" },
                caption: `
â•”â§‰à¼» ğŸ§€ ğƒğğŸğšğ®ğ¥ğ­ ğ‚ğ¨ğ¦ğ¦ğšğ§ğğ¬! ê§‚
â•‘â—‡ *${______1.default.MuveOn}help:* _commands of Arctix!_
â•‘â—‡ *${______1.default.MuveOn}support:* _official arctix groups!_
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•`,
                footer: `â¦“ ğ€ğ«ğœğ­ğ¢ğ± â¦”`,
                buttons: [
                    {
                        buttonId: `${______1.default.MuveOn}help`,
                        buttonText: { displayText: `${______1.default.MuveOn}help` },
                        type: 1,
                    },
                    {
                        buttonId: `${______1.default.MuveOn}rules`,
                        buttonText: { displayText: `${______1.default.MuveOn}rules` },
                        type: 1,
                    },
                ],
                headerType: 4,
            }, message_type_1.MessageType.buttonsMessage);
        }
        /*
        â¦“â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•| á´˜á´á´¡á´‡Ê€á´‡á´… Ê™Ê á´‹Ê€á´€á´‹ÉªÉ´á´¢ÊŸá´€Ê™â„¢ |â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â¦”
        ã€Œ   ğ€ğ«ğœğ­ğ¢ğ± ğ€ğ©ğ¢Â®   ã€                                                                            ã€Œ   ğ€ğ«ğœğ­ğ¢ğ± ğ€ğ©ğ¢Â®   ã€
        â¦“â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•| á´˜á´á´¡á´‡Ê€á´‡á´… Ê™Ê á´‹Ê€á´€á´‹ÉªÉ´á´¢ÊŸá´€Ê™â„¢ |â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â¦”
        */
        const GroupMemData = yield Ó„ğ–—ğ–Ó„ğ–“ğ–Ÿ.groupMetadata(update.jid);
        const á´˜á´˜á´¡á´‡ÊŸá´„á´á´á´‡ = ALL_PARTICIPANTS.replace(/[^\d-]/g, "");
        const GroupMemG = GroupMemData.participants.length;
        const GroupMemBio = yield Ó„ğ–—ğ–Ó„ğ–“ğ–Ÿ.getStatus(update.participants[0], message_type_1.MessageType.text);
        const downloader = yield new Downloader({
            url: ğğ©ğ¢ğœ,
            directory: `./ğ€ğ«ğœğ­ğ¢ğ±ğŸğğğğ­ğ¥ğ`,
            fileName: `${Date.now().toString()}.png`,
            cloneFiles: false,
        });
        yield downloader.download();
        yield Welcome.findOne({
            ID: update.id,
        }, (error, userWel) => __awaiter(void 0, void 0, void 0, function* () {
            if (error)
                console.log(error);
            if (!userWel)
                return;
            yield client
                .sendMessage(update.id, {
                timestamp: Date(),
                image: { url: `./ğ€ğ«ğœğ­ğ¢ğ±ğŸğğğğ­ğ¥ğ/${Date.now().toString()}.png` },
                caption: `
â”Œâ”€ã€Œ ğ€ğ«ğœğ­ğ¢ğ± ğ€ğ©ğ¢Â® ã€
â”œ
â”œâ€¢ã€Œ ğ–ğğ¥ğœğ¨ğ¦ğ ã€
â”œâ€¢ @${á´˜á´˜á´¡á´‡ÊŸá´„á´á´á´‡}
â”œ
â”œâ€¢ã€Œ ğ—•ğ—¶ğ—¼ ã€
â”œâ€¢ ${GroupMemBio.status}
â”œ
â”œâ€¢ã€Œ ğŒğğ¦ğ›ğğ« ã€
â”œâ€¢ ${GroupMemG}
â”œ
â”œâ€¢ã€Œ ğ†ğ«ğ¨ğ®ğ© ã€
â”œâ€¢ ${GroupMemData.subject}
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡


${userWel.message}`,
                footer: `â¦“ ğ€ğ«ğœğ­ğ¢ğ± â¦”`,
                buttons: [
                    {
                        buttonId: `${______1.default.MuveOn}help`,
                        buttonText: { displayText: `${______1.default.MuveOn}help` },
                        type: 1,
                    },
                    {
                        buttonId: `${______1.default.MuveOn}rules`,
                        buttonText: { displayText: `${______1.default.MuveOn}rules` },
                        type: 1,
                    },
                ],
                headerType: 4,
            }, message_type_1.MessageType.buttonsMessage)
                .then(VOID.VOID(`./ğ€ğ«ğœğ­ğ¢ğ±ğŸğğğğ­ğ¥ğ/${Date.now().toString()}.png`))
                .catch((error) => console.log(error));
        }));
    }
    else if (update.action == "remove") {
        return;
    }
});
`|â¬¡â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•|â â’¸ğ€ğ«ğœğ­ğ¢ğ± â˜Š á´˜á´á´¡á´‡Ê€á´‡á´… Ê™Ê á´‹Ê€á´€á´‹ÉªÉ´á´¢ÊŸá´€Ê™â„¢ â|â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â¬¡|`;
/*
(ğœ)ğ€ğ«ğœğ­ğ¢ğ± ğ¢ğ¬ ğš ğ–ğ¡ğšğ­ğ¬ğšğ©ğ© ğŒğ®ğ¥ğ­ğ¢ğğ®ğ«ğ©ğ¨ğ¬ğ-ğ”ğ¬ğğ«ğ›ğ¨ğ­ ğ°ğ¢ğ­ğ¡ ğŒğ¨ğğğ«ğšğ­ğ¢ğ¨ğ§,ğ€ğ®ğ­ğ¨ğ¦ğšğ­ğ¢ğ¨ğ§ ğšğ§ğ ğŸğŸğŸ+ ğ¦ğ¨ğ«ğ ğœğ¨ğ¦ğ¦ğšğ§ğğ¬!
*/
`|â¬¡â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•|â â’¸ğ€ğ«ğœğ­ğ¢ğ± â˜Š á´˜á´á´¡á´‡Ê€á´‡á´… Ê™Ê á´‹Ê€á´€á´‹ÉªÉ´á´¢ÊŸá´€Ê™â„¢ â|â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â¬¡|`;
module.exports = {
    participants_update: participants_update,
};
