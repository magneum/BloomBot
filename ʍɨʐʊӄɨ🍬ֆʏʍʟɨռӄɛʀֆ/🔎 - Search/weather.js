// â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
const Mizuki_Buttons = require(`../../ÊÉ¨ÊÊŠÓ„É¨ğŸ›°ï¸Ö†É›Ê€Ê‹É›Ê€/Mizuki_Buttons`);
const Mizuki_Static = require(`../../ÊÉ¨ÊÊŠÓ„É¨ğŸ›°ï¸Ö†É›Ê€Ê‹É›Ê€/Mizuki_Static`);
const { MessageType, Mimetype } = require(`@adiwajshing/baileys`);
const cleanRF = require(`../../ÊÉ¨ÊÊŠÓ„É¨ğŸ›°ï¸Ö†É›Ê€Ê‹É›Ê€/cleanRF`);
const _ğ”ğ”ğ”Ÿ_ = require(`../../ÊÉ¨ÊÊŠÓ„É¨ğŸ›°ï¸Ö†É›Ê€Ê‹É›Ê€/_ğ”ğ”ğ”Ÿ_`);
const êœ°á´œá´„á´‹ = require(`../../ÊÉ¨ÊÊŠÓ„É¨ğŸ›°ï¸Ö†É›Ê€Ê‹É›Ê€/oShit`);
var á´‹á´‡Éªá´‡x = new RegExp(_ğ”ğ”ğ”Ÿ_.FOXTROT, `g`);
var á´‹á´‡Éª = /\/\^\[(.*)+\]\/\g/g.exec(á´‹á´‡Éªá´‡x)[1];
const vers = require(`../../package.json`);
const axios = require(`axios`);
// â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
module.exports = {
  name: `weather`,
  ğ“œğ“®ğ“®6ÊÖ…Ê€É›: `*${á´‹á´‡Éª}weather* (city/state)`,
  async handle(Ó„Ê€ÇŸÓ„É¨Õ¼Ê, chat, ğ“œğ–ğ–Ÿğ–šÓ„ğ–, Needs, êœ±Éªá´›Ê€á´€á´˜, Clock, Ping, Timers) {
    try {
      // â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
      var êœ±á´‡É´á´…á´‡Ê€Éªá´… = ğ“œğ–ğ–Ÿğ–šÓ„ğ–.sender;
      var êœ±á´‡É´á´…á´‡Ê€eceived = êœ±á´‡É´á´…á´‡Ê€Éªá´….substring(0, êœ±á´‡É´á´…á´‡Ê€Éªá´….length - 15);
      const defaultnm = ğ“œğ–ğ–Ÿğ–šÓ„ğ–.commandName;
      const FinalName = defaultnm.charAt(0).toUpperCase() + defaultnm.slice(1);
      console.log(
        `ğŸçˆªğ–ğ–Ÿğ–šÓ„ğ–â„¢ á´ á´‡Ê€Éªêœ°Éªá´‡á´… êœ°ÉªÊŸá´‡ > ` + FinalName.toUpperCase() + `âœ”ï¸`
      );
      // â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
      if (Needs.length === 0) {
        var ğ“œUsage = êœ±Éªá´›Ê€á´€á´˜.get(ğ“œğ–ğ–Ÿğ–šÓ„ğ–.commandName);
        var á´Éªá´¢á´œá´‹Éªá´á´Ê€á´‡ =
          ğ“œUsage.ğ“œğ“®ğ“®6ÊÖ…Ê€É› === undefined ? `Null` : ğ“œUsage.ğ“œğ“®ğ“®6ÊÖ…Ê€É›;
        const á´€Ê€É¢á´œá´á´‡É´á´› = require(`../../ÊÉ¨ÊÊŠÓ„É¨ğŸ›°ï¸Ö†É›Ê€Ê‹É›Ê€/É´á´‡á´‡á´…á´€Ê€É¢á´œá´á´‡É´á´›`);
        return á´€Ê€É¢á´œá´á´‡É´á´›.É´á´‡á´‡á´…á´€Ê€É¢á´œá´á´‡É´á´›(
          Ó„Ê€ÇŸÓ„É¨Õ¼Ê,
          chat,
          ğ“œğ–ğ–Ÿğ–šÓ„ğ–,
          êœ±á´‡É´á´…á´‡Ê€Éªá´…,
          êœ±á´‡É´á´…á´‡Ê€eceived,
          ğ“œğ–ğ–Ÿğ–šÓ„ğ–.commandName,
          á´Éªá´¢á´œá´‹Éªá´á´Ê€á´‡
        );
        // â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
      } else {
        // â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
        try {
          if (ğ“œğ–ğ–Ÿğ–šÓ„ğ–.sender === ğ“œğ–ğ–Ÿğ–šÓ„ğ–.owner) return;
          const jsoncool = JSON.parse(
            fs.readFileSync(`./ÊÉ¨ÊÊŠÓ„É¨ğŸ›°ï¸Ö†É›Ê€Ê‹É›Ê€/Coolist.json`)
          );
          jsoncool.push(ğ“œğ–ğ–Ÿğ–šÓ„ğ–.sender + ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId);
          fs.writeFileSync(
            `./ÊÉ¨ÊÊŠÓ„É¨ğŸ›°ï¸Ö†É›Ê€Ê‹É›Ê€/Coolist.json`,
            JSON.stringify(jsoncool)
          );
          setTimeout(async (error) => {
            if (error) console.log(error);
            jsoncool.splice(ğ“œğ–ğ–Ÿğ–šÓ„ğ–.sender + ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId);
            fs.writeFileSync(
              `./ÊÉ¨ÊÊŠÓ„É¨ğŸ›°ï¸Ö†É›Ê€Ê‹É›Ê€/Coolist.json`,
              JSON.stringify(jsoncool)
            );
          }, 6000);
        } catch (â„“Î±Ğ²Ñ”ÑÑÏƒÑ) {
          console.log(â„“Î±Ğ²Ñ”ÑÑÏƒÑ);
        }
        // â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
        const response = axios.get(
          `https://api.openweathermap.org/data/2.5/weather?q=${Needs[0]}&units=metric&appid=060a6bcfa19809c2cd4d97a212b19273`
        );
        try {
          const res = await response;
          const name = res.data.name;
          const Country = res.data.sys.country;
          const Weather = res.data.weather[0].description;
          const Temperature = res.data.main.temp + `Â°C`;
          const Minimum_Temperature = res.data.main.temp_min + `Â°C`;
          const Maximum_Temperature = res.data.main.temp_max + `Â°C`;
          const Humidity = res.data.main.humidity + `%`;
          const Wind = res.data.wind.speed + `km/h`;
          return Mizuki_Buttons.MIB(
            Ó„Ê€ÇŸÓ„É¨Õ¼Ê,
            chat,
            ğ“œğ–ğ–Ÿğ–šÓ„ğ–,
            `ğŸ‘‹ğŸ½ğŒğ¨ğ¬ğ¡ğ¢-ğŒğ¨ğ¬ğ¡ğ¢, ${Timers} @${êœ±á´‡É´á´…á´‡Ê€eceived},

â”Œâ”€â”€â”€â”€â—‡ğŸ¥­ğ“ğ¨ğ©ğ¢ğœ: _*${FinalName}*_
â”‚
â”‚ğŸŒ¸ ğğ¥ğšğœğ: ${name}
â”‚ğŸ’® ğ‚ğ¨ğ®ğ§ğ­ğ«ğ²: ${Country}
â”‚ğŸŒˆ ğ–ğğšğ­ğ¡ğğ«: ${Weather}
â”‚ğŸ‹ ğ“ğğ¦ğ©ğğ«ğšğ­ğ®ğ«ğ: ${Temperature}
â”‚ğŸ’  ğŒğ¢ğ§ ğ“ğğ¦ğ©: ${Minimum_Temperature}
â”‚ğŸ“› ğŒğšğ± ğ“ğğ¦ğ©: ${Maximum_Temperature}
â”‚ğŸ’¦ ğ‡ğ®ğ¦ğ¢ğğ¢ğ­ğ²: ${Humidity}
â”‚ğŸ ğ–ğ¢ğ§ğ: ${Wind}
â””â”€â”€â”€â”€â”€â”€â”€ã€‡
`.trim(),
            `https://wttr.in/${Needs.join(` `)}.png?m`
          );
        } catch {
          return Mizuki_Buttons.MTB(
            Ó„Ê€ÇŸÓ„É¨Õ¼Ê,
            chat,
            ğ“œğ–ğ–Ÿğ–šÓ„ğ–,
            `ğŸ‘‹ğŸ½ğŒğ¨ğ¬ğ¡ğ¢-ğŒğ¨ğ¬ğ¡ğ¢, ${Timers} @${êœ±á´‡É´á´…á´‡Ê€eceived}, 
_Nothing Found For *${Needs.join(` `)}*_`
          );
        }
      }
      // â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
    } catch (â„“Î±Ğ²Ñ”ÑÑÏƒÑ) {
      êœ°á´œá´„á´‹.catch(â„“Î±Ğ²Ñ”ÑÑÏƒÑ, Ó„Ê€ÇŸÓ„É¨Õ¼Ê, ğ“œğ–ğ–Ÿğ–šÓ„ğ–, chat);
      console.log(â„“Î±Ğ²Ñ”ÑÑÏƒÑ);
    }
  },
};
// â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
