const { MessageType } = require(`@adiwajshing/baileys`);
const config = require(`../../ÃšltrÃ°Ã±/config`);
module.exports = {
  name: `remove`,
  description: `Module to remove a person from a group.`,
  ÆˆÊÉ®Ö…Ê€É¢ÊÖ…Ê€É›: `Use this module to remove people from a group by tagging them  *${config.ULTRONIX}remove @<person-to-remove>*  or replying to them  *${config.ULTRONIX}remove*${config.ULTRONIX}`,
  async handle(Ó„Ê€ÇŸÓ„É¨Õ¼Ê, chat, ÃšltrÃ°Ã±, arguments) {
    try {
      if (!ÃšltrÃ°Ã±.isGroup) {
        Ó„Ê€ÇŸÓ„É¨Õ¼Ê
          .sendMessage(
            ÃšltrÃ°Ã±.chatId,
            `Command only applicable in a group chat.`,
            MessageType.text
          )
          .catch((cá´‡Ê€Ê€á´Ê€) =>
            Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
              ÃšltrÃ°Ã±.chatId,
              `êœ±á´á´á´‡á´›ÊœÉªÉ´É¢ á´¡á´‡É´á´› á´¡Ê€á´É´É¢.Êœá´‡Ê€á´‡ á´€Ê€á´‡ êœ±á´á´á´‡ ÊŸá´É¢êœ± êœ±ÉªÉ´á´„á´‡ á´¡Êœá´‡É´ á´›Êœá´‡ Ê™á´á´› á´¡á´€êœ± É´á´á´› Ê€á´‡êœ±á´˜á´É´á´…ÉªÉ´É¢ á´€êœ± á´‡xá´˜á´‡á´„á´›á´‡á´….

âš ï¸ğ—˜ğ—¿ğ—¿ğ—¼ğ—¿
â€¢ ${cá´‡Ê€Ê€á´Ê€}


ğŸ’¡ğ—–ğ—¼ğ—ºğ—ºğ—®ğ—»ğ—± â€¢ ${ÃšltrÃ°Ã±.commandName}
ğŸ®ğ—œğ˜ ğ˜„ğ—®ğ˜€ ğ—£ğ— ? â€¢ ${ÃšltrÃ°Ã±.isPm}`,
              MessageType.text
            )
          );
        return;
      }
      if (!ÃšltrÃ°Ã±.isBotGroupAdmin) {
        Ó„Ê€ÇŸÓ„É¨Õ¼Ê
          .sendMessage(
            ÃšltrÃ°Ã±.chatId,
            `Sorry, don't have permission to do so since I am not an admin.`,
            MessageType.text
          )
          .catch((cá´‡Ê€Ê€á´Ê€) =>
            Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
              ÃšltrÃ°Ã±.chatId,
              `êœ±á´á´á´‡á´›ÊœÉªÉ´É¢ á´¡á´‡É´á´› á´¡Ê€á´É´É¢.Êœá´‡Ê€á´‡ á´€Ê€á´‡ êœ±á´á´á´‡ ÊŸá´É¢êœ± êœ±ÉªÉ´á´„á´‡ á´¡Êœá´‡É´ á´›Êœá´‡ Ê™á´á´› á´¡á´€êœ± É´á´á´› Ê€á´‡êœ±á´˜á´É´á´…ÉªÉ´É¢ á´€êœ± á´‡xá´˜á´‡á´„á´›á´‡á´….

âš ï¸ğ—˜ğ—¿ğ—¿ğ—¼ğ—¿
â€¢ ${cá´‡Ê€Ê€á´Ê€}


ğŸ’¡ğ—–ğ—¼ğ—ºğ—ºğ—®ğ—»ğ—± â€¢ ${ÃšltrÃ°Ã±.commandName}
ğŸ®ğ—œğ˜ ğ˜„ğ—®ğ˜€ ğ—£ğ— ? â€¢ ${ÃšltrÃ°Ã±.isPm}`,
              MessageType.text
            )
          );
        return;
      }
      let owner = ÃšltrÃ°Ã±.chatId.split(`-`)[0];
      if (ÃšltrÃ°Ã±.isReply) {
        let PersonToRemove =
          chat.message.extendedTextMessage.contextInfo.participant;
        if (PersonToRemove === owner + `@s.whatsapp.net`) {
          Ó„Ê€ÇŸÓ„É¨Õ¼Ê
            .sendMessage(
              ÃšltrÃ°Ã±.chatId,
              `*` + owner + ` is the owner of the group*`,
              MessageType.text
            )
            .catch((cá´‡Ê€Ê€á´Ê€) =>
              Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
                ÃšltrÃ°Ã±.chatId,
                `êœ±á´á´á´‡á´›ÊœÉªÉ´É¢ á´¡á´‡É´á´› á´¡Ê€á´É´É¢.Êœá´‡Ê€á´‡ á´€Ê€á´‡ êœ±á´á´á´‡ ÊŸá´É¢êœ± êœ±ÉªÉ´á´„á´‡ á´¡Êœá´‡É´ á´›Êœá´‡ Ê™á´á´› á´¡á´€êœ± É´á´á´› Ê€á´‡êœ±á´˜á´É´á´…ÉªÉ´É¢ á´€êœ± á´‡xá´˜á´‡á´„á´›á´‡á´….

âš ï¸ğ—˜ğ—¿ğ—¿ğ—¼ğ—¿
â€¢ ${cá´‡Ê€Ê€á´Ê€}


ğŸ’¡ğ—–ğ—¼ğ—ºğ—ºğ—®ğ—»ğ—± â€¢ ${ÃšltrÃ°Ã±.commandName}
ğŸ®ğ—œğ˜ ğ˜„ğ—®ğ˜€ ğ—£ğ— ? â€¢ ${ÃšltrÃ°Ã±.isPm}`,
                MessageType.text
              )
            );
          return;
        }
        if (PersonToRemove === ÃšltrÃ°Ã±.owner) {
          Ó„Ê€ÇŸÓ„É¨Õ¼Ê
            .sendMessage(
              ÃšltrÃ°Ã±.chatId,
              `Why man, why?! Why would you use my powers to remove myself from the group?!ğŸ¥º\n*Request Rejected.* ğŸ˜¤`,
              MessageType.text
            )
            .catch((cá´‡Ê€Ê€á´Ê€) =>
              Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
                ÃšltrÃ°Ã±.chatId,
                `êœ±á´á´á´‡á´›ÊœÉªÉ´É¢ á´¡á´‡É´á´› á´¡Ê€á´É´É¢.Êœá´‡Ê€á´‡ á´€Ê€á´‡ êœ±á´á´á´‡ ÊŸá´É¢êœ± êœ±ÉªÉ´á´„á´‡ á´¡Êœá´‡É´ á´›Êœá´‡ Ê™á´á´› á´¡á´€êœ± É´á´á´› Ê€á´‡êœ±á´˜á´É´á´…ÉªÉ´É¢ á´€êœ± á´‡xá´˜á´‡á´„á´›á´‡á´….

âš ï¸ğ—˜ğ—¿ğ—¿ğ—¼ğ—¿
â€¢ ${cá´‡Ê€Ê€á´Ê€}


ğŸ’¡ğ—–ğ—¼ğ—ºğ—ºğ—®ğ—»ğ—± â€¢ ${ÃšltrÃ°Ã±.commandName}
ğŸ®ğ—œğ˜ ğ˜„ğ—®ğ˜€ ğ—£ğ— ? â€¢ ${ÃšltrÃ°Ã±.isPm}`,
                MessageType.text
              )
            );
          return;
        }
        var isMember = async (chatId, groupMembers) => {
          var isMember = false;
          if (!(chatId === undefined)) {
            for (const index in groupMembers) {
              if (chatId == groupMembers[index].jid.split(`@`)[0]) {
                isMember = true;
              }
            }
            return isMember;
          } else {
            return isMember;
          }
        };
        if (!isMember) {
          Ó„Ê€ÇŸÓ„É¨Õ¼Ê
            .sendMessage(
              ÃšltrÃ°Ã±.chatId,
              `*person is not in the group*`,
              MessageType.text
            )
            .catch((cá´‡Ê€Ê€á´Ê€) =>
              Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
                ÃšltrÃ°Ã±.chatId,
                `êœ±á´á´á´‡á´›ÊœÉªÉ´É¢ á´¡á´‡É´á´› á´¡Ê€á´É´É¢.Êœá´‡Ê€á´‡ á´€Ê€á´‡ êœ±á´á´á´‡ ÊŸá´É¢êœ± êœ±ÉªÉ´á´„á´‡ á´¡Êœá´‡É´ á´›Êœá´‡ Ê™á´á´› á´¡á´€êœ± É´á´á´› Ê€á´‡êœ±á´˜á´É´á´…ÉªÉ´É¢ á´€êœ± á´‡xá´˜á´‡á´„á´›á´‡á´….

âš ï¸ğ—˜ğ—¿ğ—¿ğ—¼ğ—¿
â€¢ ${cá´‡Ê€Ê€á´Ê€}


ğŸ’¡ğ—–ğ—¼ğ—ºğ—ºğ—®ğ—»ğ—± â€¢ ${ÃšltrÃ°Ã±.commandName}
ğŸ®ğ—œğ˜ ğ˜„ğ—®ğ˜€ ğ—£ğ— ? â€¢ ${ÃšltrÃ°Ã±.isPm}`,
                MessageType.text
              )
            );
        }
        try {
          if (PersonToRemove) {
            Ó„Ê€ÇŸÓ„É¨Õ¼Ê
              .groupRemove(ÃšltrÃ°Ã±.chatId, [PersonToRemove])
              .catch((cá´‡Ê€Ê€á´Ê€) =>
                Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
                  ÃšltrÃ°Ã±.chatId,
                  `êœ±á´á´á´‡á´›ÊœÉªÉ´É¢ á´¡á´‡É´á´› á´¡Ê€á´É´É¢.Êœá´‡Ê€á´‡ á´€Ê€á´‡ êœ±á´á´á´‡ ÊŸá´É¢êœ± êœ±ÉªÉ´á´„á´‡ á´¡Êœá´‡É´ á´›Êœá´‡ Ê™á´á´› á´¡á´€êœ± É´á´á´› Ê€á´‡êœ±á´˜á´É´á´…ÉªÉ´É¢ á´€êœ± á´‡xá´˜á´‡á´„á´›á´‡á´….

âš ï¸ğ—˜ğ—¿ğ—¿ğ—¼ğ—¿
â€¢ ${cá´‡Ê€Ê€á´Ê€}


ğŸ’¡ğ—–ğ—¼ğ—ºğ—ºğ—®ğ—»ğ—± â€¢ ${ÃšltrÃ°Ã±.commandName}
ğŸ®ğ—œğ˜ ğ˜„ğ—®ğ˜€ ğ—£ğ— ? â€¢ ${ÃšltrÃ°Ã±.isPm}`,
                  MessageType.text
                )
              );
            return;
          }
        } catch (cá´‡Ê€Ê€á´Ê€) {
          throw cá´‡Ê€Ê€á´Ê€;
        }
        return;
      }
      if (!arguments[0]) {
        Ó„Ê€ÇŸÓ„É¨Õ¼Ê
          .sendMessage(
            ÃšltrÃ°Ã±.chatId,
            `Reply to the person you want to remove or tag them.\n\nFor instance,  *${config.ULTRONIX}remove @<person-to-remove>*  or reply using  *${config.ULTRONIX}remove*${config.ULTRONIX}`,
            MessageType.text
          )
          .catch((cá´‡Ê€Ê€á´Ê€) =>
            Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
              ÃšltrÃ°Ã±.chatId,
              `êœ±á´á´á´‡á´›ÊœÉªÉ´É¢ á´¡á´‡É´á´› á´¡Ê€á´É´É¢.Êœá´‡Ê€á´‡ á´€Ê€á´‡ êœ±á´á´á´‡ ÊŸá´É¢êœ± êœ±ÉªÉ´á´„á´‡ á´¡Êœá´‡É´ á´›Êœá´‡ Ê™á´á´› á´¡á´€êœ± É´á´á´› Ê€á´‡êœ±á´˜á´É´á´…ÉªÉ´É¢ á´€êœ± á´‡xá´˜á´‡á´„á´›á´‡á´….

âš ï¸ğ—˜ğ—¿ğ—¿ğ—¼ğ—¿
â€¢ ${cá´‡Ê€Ê€á´Ê€}


ğŸ’¡ğ—–ğ—¼ğ—ºğ—ºğ—®ğ—»ğ—± â€¢ ${ÃšltrÃ°Ã±.commandName}
ğŸ®ğ—œğ˜ ğ˜„ğ—®ğ˜€ ğ—£ğ— ? â€¢ ${ÃšltrÃ°Ã±.isPm}`,
              MessageType.text
            )
          );
        return;
      }
      if (arguments[0][0] == `@`) {
        const number = arguments[0].substring(1);
        if (isNaN(number)) {
          Ó„Ê€ÇŸÓ„É¨Õ¼Ê
            .sendMessage(
              ÃšltrÃ°Ã±.chatId,
              `Reply to the person you want to remove or tag them.\n\nFor instance,  *${config.ULTRONIX}remove @<person-to-remove>*  or reply using  *${config.ULTRONIX}remove*${config.ULTRONIX}`,
              MessageType.text
            )
            .catch((cá´‡Ê€Ê€á´Ê€) =>
              Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
                ÃšltrÃ°Ã±.chatId,
                `êœ±á´á´á´‡á´›ÊœÉªÉ´É¢ á´¡á´‡É´á´› á´¡Ê€á´É´É¢.Êœá´‡Ê€á´‡ á´€Ê€á´‡ êœ±á´á´á´‡ ÊŸá´É¢êœ± êœ±ÉªÉ´á´„á´‡ á´¡Êœá´‡É´ á´›Êœá´‡ Ê™á´á´› á´¡á´€êœ± É´á´á´› Ê€á´‡êœ±á´˜á´É´á´…ÉªÉ´É¢ á´€êœ± á´‡xá´˜á´‡á´„á´›á´‡á´….

âš ï¸ğ—˜ğ—¿ğ—¿ğ—¼ğ—¿
â€¢ ${cá´‡Ê€Ê€á´Ê€}


ğŸ’¡ğ—–ğ—¼ğ—ºğ—ºğ—®ğ—»ğ—± â€¢ ${ÃšltrÃ°Ã±.commandName}
ğŸ®ğ—œğ˜ ğ˜„ğ—®ğ˜€ ğ—£ğ— ? â€¢ ${ÃšltrÃ°Ã±.isPm}`,
                MessageType.text
              )
            );
          return;
        }

        if (number + `@s.whatsapp.net` === ÃšltrÃ°Ã±.owner) {
          Ó„Ê€ÇŸÓ„É¨Õ¼Ê
            .sendMessage(
              ÃšltrÃ°Ã±.chatId,
              `Why man, why?! Why would you use my powers to remove myself from the group?!ğŸ¥º\n*Request Rejected.* ğŸ˜¤`,
              MessageType.text
            )
            .catch((cá´‡Ê€Ê€á´Ê€) =>
              Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
                ÃšltrÃ°Ã±.chatId,
                `êœ±á´á´á´‡á´›ÊœÉªÉ´É¢ á´¡á´‡É´á´› á´¡Ê€á´É´É¢.Êœá´‡Ê€á´‡ á´€Ê€á´‡ êœ±á´á´á´‡ ÊŸá´É¢êœ± êœ±ÉªÉ´á´„á´‡ á´¡Êœá´‡É´ á´›Êœá´‡ Ê™á´á´› á´¡á´€êœ± É´á´á´› Ê€á´‡êœ±á´˜á´É´á´…ÉªÉ´É¢ á´€êœ± á´‡xá´˜á´‡á´„á´›á´‡á´….

âš ï¸ğ—˜ğ—¿ğ—¿ğ—¼ğ—¿
â€¢ ${cá´‡Ê€Ê€á´Ê€}


ğŸ’¡ğ—–ğ—¼ğ—ºğ—ºğ—®ğ—»ğ—± â€¢ ${ÃšltrÃ°Ã±.commandName}
ğŸ®ğ—œğ˜ ğ˜„ğ—®ğ˜€ ğ—£ğ— ? â€¢ ${ÃšltrÃ°Ã±.isPm}`,
                MessageType.text
              )
            );
          return;
        }

        if (!(number === owner)) {
          Ó„Ê€ÇŸÓ„É¨Õ¼Ê
            .groupRemove(ÃšltrÃ°Ã±.chatId, [number + `@s.whatsapp.net`])
            .catch((cá´‡Ê€Ê€á´Ê€) =>
              Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
                ÃšltrÃ°Ã±.chatId,
                `êœ±á´á´á´‡á´›ÊœÉªÉ´É¢ á´¡á´‡É´á´› á´¡Ê€á´É´É¢.Êœá´‡Ê€á´‡ á´€Ê€á´‡ êœ±á´á´á´‡ ÊŸá´É¢êœ± êœ±ÉªÉ´á´„á´‡ á´¡Êœá´‡É´ á´›Êœá´‡ Ê™á´á´› á´¡á´€êœ± É´á´á´› Ê€á´‡êœ±á´˜á´É´á´…ÉªÉ´É¢ á´€êœ± á´‡xá´˜á´‡á´„á´›á´‡á´….

âš ï¸ğ—˜ğ—¿ğ—¿ğ—¼ğ—¿
â€¢ ${cá´‡Ê€Ê€á´Ê€}


ğŸ’¡ğ—–ğ—¼ğ—ºğ—ºğ—®ğ—»ğ—± â€¢ ${ÃšltrÃ°Ã±.commandName}
ğŸ®ğ—œğ˜ ğ˜„ğ—®ğ˜€ ğ—£ğ— ? â€¢ ${ÃšltrÃ°Ã±.isPm}`,
                MessageType.text
              )
            );
          return;
        } else {
          Ó„Ê€ÇŸÓ„É¨Õ¼Ê
            .sendMessage(
              ÃšltrÃ°Ã±.chatId,
              `*` + owner + ` is the owner of the group*`,
              MessageType.text
            )
            .catch((cá´‡Ê€Ê€á´Ê€) =>
              Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
                ÃšltrÃ°Ã±.chatId,
                `êœ±á´á´á´‡á´›ÊœÉªÉ´É¢ á´¡á´‡É´á´› á´¡Ê€á´É´É¢.Êœá´‡Ê€á´‡ á´€Ê€á´‡ êœ±á´á´á´‡ ÊŸá´É¢êœ± êœ±ÉªÉ´á´„á´‡ á´¡Êœá´‡É´ á´›Êœá´‡ Ê™á´á´› á´¡á´€êœ± É´á´á´› Ê€á´‡êœ±á´˜á´É´á´…ÉªÉ´É¢ á´€êœ± á´‡xá´˜á´‡á´„á´›á´‡á´….

âš ï¸ğ—˜ğ—¿ğ—¿ğ—¼ğ—¿
â€¢ ${cá´‡Ê€Ê€á´Ê€}


ğŸ’¡ğ—–ğ—¼ğ—ºğ—ºğ—®ğ—»ğ—± â€¢ ${ÃšltrÃ°Ã±.commandName}
ğŸ®ğ—œğ˜ ğ˜„ğ—®ğ˜€ ğ—£ğ— ? â€¢ ${ÃšltrÃ°Ã±.isPm}`,
                MessageType.text
              )
            );
          return;
        }
      }
      Ó„Ê€ÇŸÓ„É¨Õ¼Ê
        .sendMessage(
          ÃšltrÃ°Ã±.chatId,
          `Reply to the person you want to remove or tag them.\n\nFor instance,  *${config.ULTRONIX}remove @<person-to-remove>*  or reply using  *${config.ULTRONIX}remove*${config.ULTRONIX}`,
          MessageType.text
        )
        .catch((cá´‡Ê€Ê€á´Ê€) =>
          Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
            ÃšltrÃ°Ã±.chatId,
            `êœ±á´á´á´‡á´›ÊœÉªÉ´É¢ á´¡á´‡É´á´› á´¡Ê€á´É´É¢.Êœá´‡Ê€á´‡ á´€Ê€á´‡ êœ±á´á´á´‡ ÊŸá´É¢êœ± êœ±ÉªÉ´á´„á´‡ á´¡Êœá´‡É´ á´›Êœá´‡ Ê™á´á´› á´¡á´€êœ± É´á´á´› Ê€á´‡êœ±á´˜á´É´á´…ÉªÉ´É¢ á´€êœ± á´‡xá´˜á´‡á´„á´›á´‡á´….

âš ï¸ğ—˜ğ—¿ğ—¿ğ—¼ğ—¿
â€¢ ${cá´‡Ê€Ê€á´Ê€}


ğŸ’¡ğ—–ğ—¼ğ—ºğ—ºğ—®ğ—»ğ—± â€¢ ${ÃšltrÃ°Ã±.commandName}
ğŸ®ğ—œğ˜ ğ˜„ğ—®ğ˜€ ğ—£ğ— ? â€¢ ${ÃšltrÃ°Ã±.isPm}`,
            MessageType.text
          )
        );
    } catch (cá´‡Ê€Ê€á´Ê€) {
      await Ó„Ê€ÇŸÓ„É¨Õ¼Ê.sendMessage(
        ÃšltrÃ°Ã±.chatId,
        `êœ±á´á´á´‡á´›ÊœÉªÉ´É¢ á´¡á´‡É´á´› á´¡Ê€á´É´É¢.Êœá´‡Ê€á´‡ á´€Ê€á´‡ êœ±á´á´á´‡ ÊŸá´É¢êœ± êœ±ÉªÉ´á´„á´‡ á´¡Êœá´‡É´ á´›Êœá´‡ Ê™á´á´› á´¡á´€êœ± É´á´á´› Ê€á´‡êœ±á´˜á´É´á´…ÉªÉ´É¢ á´€êœ± á´‡xá´˜á´‡á´„á´›á´‡á´….

âš ï¸ğ—˜ğ—¿ğ—¿ğ—¼ğ—¿
â€¢ ${cá´‡Ê€Ê€á´Ê€}


ğŸ’¡ğ—–ğ—¼ğ—ºğ—ºğ—®ğ—»ğ—± â€¢ ${ÃšltrÃ°Ã±.commandName}
ğŸ®ğ—œğ˜ ğ˜„ğ—®ğ˜€ ğ—£ğ— ? â€¢ ${ÃšltrÃ°Ã±.isPm}`,
        MessageType.text
      );
      return;
    }
  },
};