// â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
const Mizuki_Buttons = require(`../../ÊÉ¨ÊÊŠÓ„É¨ğŸ›°ï¸Ö†É›Ê€Ê‹É›Ê€/Mizuki_Buttons`);
const { MessageType, Mimetype } = require(`@adiwajshing/baileys`);
const imdb = require(`imdb-api`);
const êœ°á´œá´„á´‹ = require(`../../ÊÉ¨ÊÊŠÓ„É¨ğŸ›°ï¸Ö†É›Ê€Ê‹É›Ê€/oShit`);
const _ğ”ğ”ğ”Ÿ_ = require(`../../ÊÉ¨ÊÊŠÓ„É¨ğŸ›°ï¸Ö†É›Ê€Ê‹É›Ê€/_ğ”ğ”ğ”Ÿ_`);
var á´‹á´‡Éªá´‡x = new RegExp(_ğ”ğ”ğ”Ÿ_.FOXTROT, `g`);
var á´‹á´‡Éª = /\/\^\[(.*)+\]\/\g/g.exec(á´‹á´‡Éªá´‡x)[1];
const vers = require(`../../package.json`);
// â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
module.exports = {
  name: `imdb`,
  ğ“œğ“®ğ“®6ÊÖ…Ê€É›: `*${á´‹á´‡Éª}imdb* <movie/series>`,
  async handle(Ó„Ê€ÇŸÓ„É¨Õ¼Ê, chat, ğ“œğ–ğ–Ÿğ–šÓ„ğ–, Needs, êœ±Éªá´›Ê€á´€á´˜, Clock, Ping) {
    // â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
    var êœ±á´‡É´á´…á´‡Ê€Éªá´… = ğ“œğ–ğ–Ÿğ–šÓ„ğ–.sender;
    var êœ±á´‡É´á´…á´‡Ê€eceived = êœ±á´‡É´á´…á´‡Ê€Éªá´….substring(0, êœ±á´‡É´á´…á´‡Ê€Éªá´….length - 15);
    const defaultnm = ğ“œğ–ğ–Ÿğ–šÓ„ğ–.commandName;
    const FinalName = defaultnm.charAt(0).toUpperCase() + defaultnm.slice(1);
    console.log("ğŸçˆªğ–ğ–Ÿğ–šÓ„ğ–â„¢ á´ á´‡Ê€Éªêœ°Éªá´‡á´… êœ°ÉªÊŸá´‡ > " + FinalName.toUpperCase() + "âœ”ï¸");
    // â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
    if (Needs.length === 0) {
      var ğ“œUsage = êœ±Éªá´›Ê€á´€á´˜.get(ğ“œğ–ğ–Ÿğ–šÓ„ğ–.commandName);
      ğ“œğ“®ğ“®ÊÖ…Ê€É› = ğ“œUsage.ğ“œğ“®ğ“®6ÊÖ…Ê€É› === undefined ? `Null` : ğ“œUsage.ğ“œğ“®ğ“®6ÊÖ…Ê€É›;
      const É´á´‡á´‡á´…á´€Ê€É¢á´œá´á´‡É´á´› = require(`../../ÊÉ¨ÊÊŠÓ„É¨ğŸ›°ï¸Ö†É›Ê€Ê‹É›Ê€/É´á´‡á´‡á´…á´€Ê€É¢á´œá´á´‡É´á´›`);
      return É´á´‡á´‡á´…á´€Ê€É¢á´œá´á´‡É´á´›.É´á´‡á´‡á´…á´€Ê€É¢á´œá´á´‡É´á´›(
        Ó„Ê€ÇŸÓ„É¨Õ¼Ê,
        chat,
        ğ“œğ–ğ–Ÿğ–šÓ„ğ–,
        êœ±á´‡É´á´…á´‡Ê€Éªá´…,
        êœ±á´‡É´á´…á´‡Ê€eceived,
        ğ“œğ–ğ–Ÿğ–šÓ„ğ–.commandName,
        ğ“œğ“®ğ“®ÊÖ…Ê€É›
      );
    }
    // â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
    const imob = new imdb.Client({
      apiKey: _ğ”ğ”ğ”Ÿ_.IMDB,
    });
    let movie = await imob.get({
      name: Needs.join(` `),
    });
    const Litol = `\nÂ©ï¸ ğŒğ¢ğ³ğ®ğ¤ğ¢ğŸ£ğğ¨ğ­\nğŸ›°ï¸á´˜ÉªÉ´É¢: _${Ping.toFixed(
      4
    )}s_ ğŸ“…á´…á´€á´›á´‡: _${Clock}_

*ğŸ’¡ğ“ğ¢ğ­ğ¥ğâ›*  ${movie.title.toUpperCase()}
*ğŸ•œğ“ğ¢ğ¦ğâ›*  ${movie.runtime}
*ğŸ“šğ†ğğ§ğ«ğğ¬â›*  ${movie.genres}
*ğŸ˜ğ€ğœğ­ğ¨ğ«ğ¬â›*  ${movie.actors}
*ğŸ™‹ğŸ½ğ•ğ¨ğ­ğğ¬â›*  ${movie.votes}
*â­ğ‘ğšğ­ğ¢ğ§ğ â›*  ${movie.rating}
*ğŸ”©ğ“ğ²ğ©ğâ›*  ${movie.type}
*ğŸŒğ‚ğ¨ğ®ğ§ğ­ğ«ğ²â›*  ${movie.country}
*ğŸ¥ğƒğ¢ğ«ğğœğ­ğ¨ğ«â›*  ${movie.director}
*âœ’ï¸ğ–ğ«ğ¢ğ­ğğ«â›*  ${movie.writer}
*ğŸ“œğ’ğğ«ğ¢ğğ¬â›*  ${movie.series}
*ğŸ”—ğˆğ¦ğğ›ğ®ğ«ğ¥â›*  ${movie.imdburl}
*â“ğğ¥ğ¨ğ­â›*  ${movie.plot}`;
    console.log(Litol);
    await Ó„Ê€ÇŸÓ„É¨Õ¼Ê
      .sendMessage(
        ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
        {
          url: movie.poster,
        },
        MessageType.image,
        {
          quoted: chat,
          mimetype: Mimetype.png,
          caption: Litol,
        }
      )
      .catch((â„“Î±Ğ²Ñ”ÑÑÏƒÑ) => êœ°á´œá´„á´‹.catch(â„“Î±Ğ²Ñ”ÑÑÏƒÑ, Ó„Ê€ÇŸÓ„É¨Õ¼Ê, ğ“œğ–ğ–Ÿğ–šÓ„ğ–, chat));
  },
};
// â¬¡ â„¢ğŠğ«ğšğ¤ğ¢ğ§ğ³ â¬¡==========================â¬¡    ğŸ (c)çˆªğ–ğ–Ÿğ–šÓ„ğ– ğŸ    â¬¡==========================â¬¡ ğ‹ğšğ›â„¢ â¬¡
