// тж┐тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАвтФАтФАтФАтФАтФАтФА[]  ЁЭРМЁЭРвЁЭР│ЁЭРоЁЭРдЁЭРвтДв   []тФАтФАтФАтФАтФАтФАтАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАвтж┐
const { MessageType, Mimetype } = require(`@adiwajshing/baileys`);
const { porno } = require(`../../ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦОЁЯзАЁЭУТЁЭУ╗ЁЭУкЁЭУ╜ЁЭУо/scraper`);
const тДУ╬╣╤Ф╬╖╤В = require(`../../ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦОЁЯзАЁЭУТЁЭУ╗ЁЭУкЁЭУ╜ЁЭУо/catch`);
const _ЁЭФПЁЭФЮЁЭФЯ_ = require(`../../ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦОЁЯзАЁЭУТЁЭУ╗ЁЭУкЁЭУ╜ЁЭУо/_ЁЭФПЁЭФЮЁЭФЯ_`);
var с┤Лс┤З╔кс┤Зx = new RegExp(_ЁЭФПЁЭФЮЁЭФЯ_.FOXTROT, `g`);
const Downloader = require(`nodejs-file-downloader`);
var с┤Лс┤З╔к = /\/\^\[(.*)+\]\/\g/g.exec(с┤Лс┤З╔кс┤Зx)[1];
const fs = require("fs");
// тж┐тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАвтФАтФАтФАтФАтФАтФА[]  ЁЭРМЁЭРвЁЭР│ЁЭРоЁЭРдЁЭРвтДв   []тФАтФАтФАтФАтФАтФАтАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАвтж┐
module.exports = {
  name: `tikporn`,
  async handle(╙Д╩А╟Я╙Д╔и╒╝╩Р, chat, ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦО, arg, ЁЭУЬЁЭУ▓ЁЭФГЁЭУ╛ЁЭУ┤ЁЭУ▓ЁЭУвЁЭУ▓ЁЭУ╜ЁЭУ╗ЁЭУоЁЭУ╣) {
    try {
      const с┤Н╔кс┤вс┤Ьс┤Л╔к╔в╔кс┤Ы = require(`simple-git`)();
      await с┤Н╔кс┤вс┤Ьс┤Л╔к╔в╔кс┤Ы.fetch();
      var ъЬ▒с┤З╔┤с┤Ес┤З╩А╔кс┤Е = ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦО.sender;
      var ъЬ▒с┤З╔┤с┤Ес┤З╩Ас┤Дс┤П╔┤ъЬ░ = ъЬ▒с┤З╔┤с┤Ес┤З╩А╔кс┤Е.substring(0, ъЬ▒с┤З╔┤с┤Ес┤З╩А╔кс┤Е.length - 15);
      const defaultnm = ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦО.commandName;
      const FinalName = defaultnm.charAt(0).toUpperCase() + defaultnm.slice(1);
      console.log(`ЁЭРУЁЭРиЁЭРйЁЭРвЁЭРЬ: ` + FinalName);
      // тж┐тАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАв[  ЁЭРМЁЭРвЁЭР│ЁЭРоЁЭРдЁЭРвтДв   ]тАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтж┐
      if (
        ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦО.isGroup &&
        (!ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦО.isSenderGroupAdmin || !ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦО.isSenderKRAK)
      ) {
        let content = fs.readFileSync(_ЁЭФПЁЭФЮЁЭФЯ_.MINAN);
        const media = await ╙Д╩А╟Я╙Д╔и╒╝╩Р.prepareMessage(
          ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦО.chatId,
          content,
          MessageType.image,
          {
            mimetype: Mimetype.png,
          }
        );
        const buttons = [
          {
            buttonId: `${с┤Лс┤З╔к}help`,
            buttonText: { displayText: `${с┤Лс┤З╔к}help` },
            type: 1,
          },
        ];
        const buttonMessage = {
          contentText: `тЭМ @${ъЬ▒с┤З╔┤с┤Ес┤З╩Ас┤Дс┤П╔┤ъЬ░},  *You Are Not Allowed!*

_тЭЧIn Groups This Command allowed to Admins & Developers!_`,
          footerText: `_ЁЭРМЁЭРвЁЭР│ЁЭРоЁЭРдЁЭРвтДв_`,
          buttons: buttons,
          headerType: 4,
          imageMessage: media.message.imageMessage,
        };
        return await ╙Д╩А╟Я╙Д╔и╒╝╩Р
          .sendMessage(
            ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦО.chatId,
            buttonMessage,
            MessageType.buttonsMessage,
            {
              quoted: chat,
              contextInfo: { mentionedJid: [ъЬ▒с┤З╔┤с┤Ес┤З╩А╔кс┤Е] },
            }
          )
          .catch((тДУ╬▒╨▓╤Ф╤П╤П╧Г╤П) => тДУ╬╣╤Ф╬╖╤В.catch(тДУ╬▒╨▓╤Ф╤П╤П╧Г╤П, ╙Д╩А╟Я╙Д╔и╒╝╩Р, ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦО));
      }
      // тж┐тАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАв[  ЁЭРМЁЭРвЁЭР│ЁЭРоЁЭРдЁЭРвтДв   ]тАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтАвтж┐
      prn = await porno();
      const link = prn.video;
      console.log(link);
      var ppl = `https://tikporntok.com/` + prn.video;
      console.log(ppl);
      const downloader = await new Downloader({
        url: ppl,
        directory: `./ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦОЁЯЧСя╕ПЁЭУСЁЭУ▓ЁЭУ╖`,
        fileName: `${FinalName}_${ъЬ▒с┤З╔┤с┤Ес┤З╩Ас┤Дс┤П╔┤ъЬ░}.mp4`,
        cloneFiles: false,
      });
      try {
        await downloader.download();
        let content = fs.readFileSync(
          `./ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦОЁЯЧСя╕ПЁЭУСЁЭУ▓ЁЭУ╖/${FinalName}_${ъЬ▒с┤З╔┤с┤Ес┤З╩Ас┤Дс┤П╔┤ъЬ░}.mp4`
        );
        const media = await ╙Д╩А╟Я╙Д╔и╒╝╩Р.prepareMessage(
          ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦО.chatId,
          content,
          MessageType.video,
          {
            mimetype: Mimetype.mp4,
          }
        );
        const buttons = [
          {
            buttonId: `${с┤Лс┤З╔к}porn`,
            buttonText: { displayText: `${с┤Лс┤З╔к}porn` },
            type: 1,
          },
          {
            buttonId: `${с┤Лс┤З╔к}nsfwside`,
            buttonText: { displayText: `${с┤Лс┤З╔к}nsfwside` },
            type: 1,
          },
        ];
        const buttonMessage = {
          contentText: `_ЁЭРМЁЭРвЁЭР│ЁЭРоЁЭРдЁЭРвтДв_

тФМтФАтФАтФАтФАтнУ
тФВтж┐ ЁЭРАЁЭРмЁЭРдЁЭРЮЁЭРЭЁЭРБЁЭР▓: @${ъЬ▒с┤З╔┤с┤Ес┤З╩Ас┤Дс┤П╔┤ъЬ░},
тФВтж┐ ЁЭРУЁЭРиЁЭРйЁЭРвЁЭРЬ: *${FinalName}*
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтнУ

тФМтФАтФАтФАтФАтнУ 
тФВтнФ Title : ${prn.title}
тФВтнФ Viewers : ${prn.views}
тФВтнФ Tags : ${prn.tags}
тФВтнФ Likes : ${prn.like}
тФВтнФ Dislikes : ${prn.dislike}
тФВтнФ Favourite : ${prn.favorite}
тФВтнФ Time Upload : ${prn.upload}
тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтнУ
тнФ Description : ${prn.desc}
тнФ Download: https://tikporntok.com/${prn.video}
тнФ Source : https://tikporntok.com/${prn.source}`,
          footerText: `_ЁЭРМЁЭРвЁЭР│ЁЭРоЁЭРдЁЭРвтДв_`,
          buttons: buttons,
          headerType: 5,
          videoMessage: media.message.videoMessage,
        };
        await ╙Д╩А╟Я╙Д╔и╒╝╩Р
          .sendMessage(
            ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦО.chatId,
            buttonMessage,
            MessageType.buttonsMessage,
            {
              quoted: chat,
              contextInfo: { mentionedJid: [ъЬ▒с┤З╔┤с┤Ес┤З╩А╔кс┤Е] },
            }
          )
          .then(() => {
            fs.unlinkSync(`./ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦОЁЯЧСя╕ПЁЭУСЁЭУ▓ЁЭУ╖/${FinalName}_${ъЬ▒с┤З╔┤с┤Ес┤З╩Ас┤Дс┤П╔┤ъЬ░}.mp4`);
          })
          .catch((тДУ╬▒╨▓╤Ф╤П╤П╧Г╤П) => тДУ╬╣╤Ф╬╖╤В.catch(тДУ╬▒╨▓╤Ф╤П╤П╧Г╤П, ╙Д╩А╟Я╙Д╔и╒╝╩Р, ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦО));
      } catch (тДУ╬▒╨▓╤Ф╤П╤П╧Г╤П) {
        тДУ╬╣╤Ф╬╖╤В.catch(тДУ╬▒╨▓╤Ф╤П╤П╧Г╤П, ╙Д╩А╟Я╙Д╔и╒╝╩Р, ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦО);
      }
      // тж┐тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАвтФАтФАтФАтФАтФАтФА[]  ЁЭРМЁЭРвЁЭР│ЁЭРоЁЭРдЁЭРвтДв   []тФАтФАтФАтФАтФАтФАтАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАвтж┐
    } catch (тДУ╬▒╨▓╤Ф╤П╤П╧Г╤П) {
      тДУ╬╣╤Ф╬╖╤В.catch(тДУ╬▒╨▓╤Ф╤П╤П╧Г╤П, ╙Д╩А╟Я╙Д╔и╒╝╩Р, ЁЭУЬЁЭЦОЁЭЦЯЁЭЦЪ╙ДЁЭЦО);
      console.log(тДУ╬▒╨▓╤Ф╤П╤П╧Г╤П);
    }
  },
};
// тж┐тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАвтФАтФАтФАтФАтФАтФА[]  ЁЭРМЁЭРвЁЭР│ЁЭРоЁЭРдЁЭРвтДв   []тФАтФАтФАтФАтФАтФАтАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАв=тАвтж┐
