// âš¡â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢â”€â”€â”€â”€â”€â”€[]  ğŒğ¢ğ³ğ®ğ¤ğ¢â„¢   []â”€â”€â”€â”€â”€â”€â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢âš¡
const { MessageType, Mimetype } = require(`@adiwajshing/baileys`);
const â„“Î¹Ñ”Î·Ñ‚ = require(`../../ğŸ§€ğ“œğ–ğ–Ÿğ–šÓ„ğ–ğŸ§€/catch`);
const _ğ”ğ”ğ”Ÿ_ = require(`../../ğŸ§€ğ“œğ–ğ–Ÿğ–šÓ„ğ–ğŸ§€/_ğ”ğ”ğ”Ÿ_`);
var á´‹á´‡Éªá´‡x = new RegExp(_ğ”ğ”ğ”Ÿ_.FOXTROT, `g`);
var á´‹á´‡Éª = /\/\^\[(.*)+\]\/\g/g.exec(á´‹á´‡Éªá´‡x)[1];
const Downloader = require(`nodejs-file-downloader`);
const fs = require(`fs`);
`ğŸ™`;
`ğŸ™`;
`ğŸ™============================================================================================================================<âš¡>`;
`   ğŒğ¢ğ³ğ®ğ¤ğ¢â„¢   ğŸ’¡ğ˜ˆğ˜¥ğ˜·ğ˜¢ğ˜¯ğ˜¤ğ˜¦ ğ˜ğ˜©ğ˜¢ğ˜µğ˜´ğ˜¢ğ˜±ğ˜± ğ˜œğ˜´ğ˜¦ğ˜³ğ˜£ğ˜°ğ˜µ ğ˜ğ˜ªğ˜µğ˜© 80+ ğ˜Šğ˜°ğ˜®ğ˜®ğ˜¢ğ˜¯ğ˜¥ğ˜´ ğ˜§ğ˜°ğ˜³ ğ˜£ğ˜°ğ˜µğ˜© ğ˜—ğ˜³ğ˜ªğ˜·ğ˜¢ğ˜µğ˜¦ ğ˜¢ğ˜¯ğ˜¥ ğ˜—ğ˜¶ğ˜£ğ˜­ğ˜ªğ˜¤.. `;
`ğŸ™============================================================================================================================<âš¡>`;
`ğŸ™`;
`ğŸ™`;
module.exports = {
  name: `add`,
  description: `Add new people to a group by entering their mobile number as per the format mentioned below.`,
  ğ“œğ“®ğ“®6ÊÖ…Ê€É›: `Example -
${á´‹á´‡Éª}add <country-code>0000000000
${á´‹á´‡Éª}add 910000000000`,
  async handle(Ó„Ê€ÇŸÓ„É¨Õ¼Ê, chat, ğ“œğ–ğ–Ÿğ–šÓ„ğ–, arg, ğ“œğ“²ğ”ƒğ“¾ğ“´ğ“²ğ“¢ğ“²ğ“½ğ“»ğ“®ğ“¹) {
    try {
      var êœ±á´‡É´á´…á´‡Ê€Éªá´… = ğ“œğ–ğ–Ÿğ–šÓ„ğ–.sender;
      var êœ±á´‡É´á´…á´‡Ê€á´„á´É´êœ° = êœ±á´‡É´á´…á´‡Ê€Éªá´….substring(0, êœ±á´‡É´á´…á´‡Ê€Éªá´….length - 15);
      try {
        // âš¡â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢â”€â”€â”€â”€â”€â”€[ğŸ™  ğŒğ¢ğ³ğ®ğ¤ğ¢â„¢   ğŸ™]â”€â”€â”€â”€â”€â”€â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢âš¡
        if (
          ğ“œğ–ğ–Ÿğ–šÓ„ğ–.isGroup &&
          !ğ“œğ–ğ–Ÿğ–šÓ„ğ–.isSenderGroupAdmin &&
          !ğ“œğ–ğ–Ÿğ–šÓ„ğ–.isSenderSUDO
        ) {
          let content = await fs.readFileSync(_ğ”ğ”ğ”Ÿ_.NotAdmin);
          const media = await Ó„Ê€ÇŸÓ„É¨Õ¼Ê.prepareMessage(
            ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
            content,
            MessageType.image,
            {
              mimetype: Mimetype.png,
            }
          );
          const buttons = [
            {
              buttonId: `${á´‹á´‡Éª}help`,
              buttonText: { displayText: `${á´‹á´‡Éª}help` },
              type: 1,
            },
          ];
          const buttonMessage = {
            contentText: `@${êœ±á´‡É´á´…á´‡Ê€á´„á´É´êœ°}, âŒ You Are Not Allowed!

*ğŸŠGroups:* Admins & Developers!
*ğŸ«’Private:* Everyone`,
            footerText: `_ğŒğ¢ğ³ğ®ğ¤ğ¢â„¢_`,
            buttons: buttons,
            headerType: 4,
            imageMessage: media.message.imageMessage,
          };
          return await Ó„Ê€ÇŸÓ„É¨Õ¼Ê
            .sendMessage(
              ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
              buttonMessage,
              MessageType.buttonsMessage,
              {
                quoted: chat,
                contextInfo: { mentionedJid: [êœ±á´‡É´á´…á´‡Ê€Éªá´…] },
              }
            )
            .catch((â„“Î±Ğ²Ñ”ÑÑÏƒÑ) => â„“Î¹Ñ”Î·Ñ‚.catch(â„“Î±Ğ²Ñ”ÑÑÏƒÑ, Ó„Ê€ÇŸÓ„É¨Õ¼Ê, ğ“œğ–ğ–Ÿğ–šÓ„ğ–));
        }
        // âš¡â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢â”€â”€â”€â”€â”€â”€[ğŸ™  ğŒğ¢ğ³ğ®ğ¤ğ¢â„¢   ğŸ™]â”€â”€â”€â”€â”€â”€â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢âš¡
        if (ğ“œğ–ğ–Ÿğ–šÓ„ğ–.isGroup && !ğ“œğ–ğ–Ÿğ–šÓ„ğ–.isBotGroupAdmin) {
          return await Ó„Ê€ÇŸÓ„É¨Õ¼Ê
            .sendMessage(
              ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
              {
                url: _ğ”ğ”ğ”Ÿ_.ERROR,
              },
              MessageType.image,
              {
                quoted: chat,
                contextInfo: {
                  mentionedJid: [êœ±á´‡É´á´…á´‡Ê€Éªá´…],
                },
                mimetype: Mimetype.png || Mimetype.jpeg,
                caption: `
âš ï¸ğ—˜ğ—¿ğ—¿ğ—¼ğ—¿: @${êœ±á´‡É´á´…á´‡Ê€á´„á´É´êœ°}, *Êá´á´œ need á´›á´ á´á´€á´‹á´‡ á´á´‡ á´€á´…á´ÉªÉ´ êœ°ÉªÊ€êœ±á´›*`,
              }
            )
            .catch((â„“Î±Ğ²Ñ”ÑÑÏƒÑ) => â„“Î¹Ñ”Î·Ñ‚.catch(â„“Î±Ğ²Ñ”ÑÑÏƒÑ, Ó„Ê€ÇŸÓ„É¨Õ¼Ê, ğ“œğ–ğ–Ÿğ–šÓ„ğ–));
        }
        // âš¡â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢â”€â”€â”€â”€â”€â”€[]  ğŒğ¢ğ³ğ®ğ¤ğ¢â„¢   []â”€â”€â”€â”€â”€â”€â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢âš¡
        if (!arg[0]) {
          Ó„Ê€ÇŸÓ„É¨Õ¼Ê
            .sendMessage(
              ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
              `Enter the number you want to add.
For instance,  
*${á´‹á´‡Éª}add <NUMBER>* .`,
              MessageType.text,
              { quoted: chat }
            )
            .catch((â„“Î±Ğ²Ñ”ÑÑÏƒÑ) => â„“Î¹Ñ”Î·Ñ‚.catch(â„“Î±Ğ²Ñ”ÑÑÏƒÑ, Ó„Ê€ÇŸÓ„É¨Õ¼Ê, ğ“œğ–ğ–Ÿğ–šÓ„ğ–));
          return;
        }
        let NUM;
        if (isNaN(arg[0]) || arg[0][0] === `+` || arg[0].length < 10) {
          var ğ“œUsage = ğ“œğ“²ğ”ƒğ“¾ğ“´ğ“²ğ“¢ğ“²ğ“½ğ“»ğ“®ğ“¹.get(ğ“œğ–ğ–Ÿğ–šÓ„ğ–.commandName);
          ğ“œğ“®ğ“®ÊÖ…Ê€É› = ğ“œUsage.ğ“œğ“®ğ“®6ÊÖ…Ê€É› === undefined ? `Null` : ğ“œUsage.ğ“œğ“®ğ“®6ÊÖ…Ê€É›;
          const nahargs = require(`../../ğŸ§€ğ“œğ–ğ–Ÿğ–šÓ„ğ–ğŸ§€/nahargs`);
          return nahargs
            .nahargs(
              Ó„Ê€ÇŸÓ„É¨Õ¼Ê,
              chat,
              ğ“œğ–ğ–Ÿğ–šÓ„ğ–,
              êœ±á´‡É´á´…á´‡Ê€Éªá´…,
              êœ±á´‡É´á´…á´‡Ê€á´„á´É´êœ°,
              ğ“œğ–ğ–Ÿğ–šÓ„ğ–.commandName,
              ğ“œğ“®ğ“®ÊÖ…Ê€É›
            )
            .catch((â„“Î±Ğ²Ñ”ÑÑÏƒÑ) => â„“Î¹Ñ”Î·Ñ‚.catch(â„“Î±Ğ²Ñ”ÑÑÏƒÑ, Ó„Ê€ÇŸÓ„É¨Õ¼Ê, ğ“œğ–ğ–Ÿğ–šÓ„ğ–));
        }
        if (arg[0].length == 10 && !isNaN(arg[0])) {
          NUM = `91` + arg[0];
        } else {
          NUM = arg[0];
        }
        const exists = await Ó„Ê€ÇŸÓ„É¨Õ¼Ê.isOnWhatsApp(NUM + `@s.whatsapp.net`);
        if (!exists) {
          Ó„Ê€ÇŸÓ„É¨Õ¼Ê
            .sendMessage(
              ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
              `The number you're trying to add isn't available on WhatsApp.
Please verify the number again.

Example -
${á´‹á´‡Éª}add <country-code>0000000000
${á´‹á´‡Éª}add 910000000000`,
              MessageType.text,
              { quoted: chat }
            )
            .catch((â„“Î±Ğ²Ñ”ÑÑÏƒÑ) => â„“Î¹Ñ”Î·Ñ‚.catch(â„“Î±Ğ²Ñ”ÑÑÏƒÑ, Ó„Ê€ÇŸÓ„É¨Õ¼Ê, ğ“œğ–ğ–Ÿğ–šÓ„ğ–));
          return;
        }
        NUM = `${arg[0].replace(/ /g, ``)}@s.whatsapp.net`;
        const request = Ó„Ê€ÇŸÓ„É¨Õ¼Ê.groupAdd(ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId, [NUM]);
        const response = await request;

        if (response[NUM + `@c.us`] == 408) {
          Ó„Ê€ÇŸÓ„É¨Õ¼Ê
            .sendMessage(
              ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
              `The number entered cannot be added back before 24 hours.`,
              MessageType.text,
              { quoted: chat }
            )
            .catch((â„“Î±Ğ²Ñ”ÑÑÏƒÑ) => â„“Î¹Ñ”Î·Ñ‚.catch(â„“Î±Ğ²Ñ”ÑÑÏƒÑ, Ó„Ê€ÇŸÓ„É¨Õ¼Ê, ğ“œğ–ğ–Ÿğ–šÓ„ğ–));
          return;
        } else if (response[NUM + `@c.us`] == 409) {
          Ó„Ê€ÇŸÓ„É¨Õ¼Ê
            .sendMessage(
              ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
              `The number entered is already a member of this group.`,
              MessageType.text,
              { quoted: chat }
            )
            .catch((â„“Î±Ğ²Ñ”ÑÑÏƒÑ) => â„“Î¹Ñ”Î·Ñ‚.catch(â„“Î±Ğ²Ñ”ÑÑÏƒÑ, Ó„Ê€ÇŸÓ„É¨Õ¼Ê, ğ“œğ–ğ–Ÿğ–šÓ„ğ–));
          return;
        }
        Ó„Ê€ÇŸÓ„É¨Õ¼Ê
          .sendMessage(
            ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
            ` ` + NUM + ` added successfully!` + ``,
            MessageType.text,
            { quoted: chat }
          )
          .catch((â„“Î±Ğ²Ñ”ÑÑÏƒÑ) => â„“Î¹Ñ”Î·Ñ‚.catch(â„“Î±Ğ²Ñ”ÑÑÏƒÑ, Ó„Ê€ÇŸÓ„É¨Õ¼Ê, ğ“œğ–ğ–Ÿğ–šÓ„ğ–));
      } catch (â„“Î±Ğ²Ñ”ÑÑÏƒÑ) {
        if (â„“Î±Ğ²Ñ”ÑÑÏƒÑ.status == 400) {
          Ó„Ê€ÇŸÓ„É¨Õ¼Ê
            .sendMessage(
              ğ“œğ–ğ–Ÿğ–šÓ„ğ–.chatId,
              `The number you're trying to add isn't available on WhatsApp.
Please verify the number again.`,
              MessageType.text,
              { quoted: chat }
            )
            .catch((â„“Î±Ğ²Ñ”ÑÑÏƒÑ) => â„“Î¹Ñ”Î·Ñ‚.catch(â„“Î±Ğ²Ñ”ÑÑÏƒÑ, Ó„Ê€ÇŸÓ„É¨Õ¼Ê, ğ“œğ–ğ–Ÿğ–šÓ„ğ–));
        }
        await â„“Î¹Ñ”Î·Ñ‚.catch(â„“Î±Ğ²Ñ”ÑÑÏƒÑ, Ó„Ê€ÇŸÓ„É¨Õ¼Ê, ğ“œğ–ğ–Ÿğ–šÓ„ğ–);
      }
      return;
    } catch (â„“Î±Ğ²Ñ”ÑÑÏƒÑ) {
      â„“Î¹Ñ”Î·Ñ‚.catch(â„“Î±Ğ²Ñ”ÑÑÏƒÑ, Ó„Ê€ÇŸÓ„É¨Õ¼Ê, ğ“œğ–ğ–Ÿğ–šÓ„ğ–);
      console.log(â„“Î±Ğ²Ñ”ÑÑÏƒÑ);
    }
  },
};
// âš¡â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢â”€â”€â”€â”€â”€â”€[]  ğŒğ¢ğ³ğ®ğ¤ğ¢â„¢   []â”€â”€â”€â”€â”€â”€â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢=â€¢âš¡
